{
  "hash": "e728447594b1ec63c2a3df98eff374f8",
  "result": {
    "markdown": "---\ntitle: \"Quarto 레이아웃\"\ndescription: Quarto 레이아웃 (Layout)\ndate: today # 날짜 설정: now, last-modified\nauthor:\n  - name: 이광춘\n    url: https://www.linkedin.com/in/kwangchunlee/\n    affiliation: 한국 R 사용자회\n    affiliation-url: https://github.com/bit2r\ntitle-block-banner: true\n#title-block-banner: \"#562457\"\nformat:\n  html:\n    theme: flatly\n    code-fold: true\n    toc: true\n    toc-depth: 2\n    toc-title: 목차\n    number-sections: true\n    highlight-style: github    \n    self-contained: false\nbibliography: bibliography.bib\nlink-citations: yes\ncsl: apa-single-spaced.csl\n---\n\n\n\n# 기사 레이아웃\n\n기사(Article) 작성에 Quarto 는 다음 레이아웃을 지원한다.\n\n- 기본 콘텐츠 영역 채우기\n- 콘텐츠 영역 넘겨 채우기\n- 전체 페이지 채우기\n- 문서 여백(margin) 채우기 \n\n# 레이아웃 (Layout)\n\n## 기본 \n\n`.column-body` 을 기본을 사용하게 된다.\n\n![](fig/horst-eco-r4ds.png)\n\n\n## Body 칼럼\n\n기본 콘텐츠 영역을 살짝 넘겨 콘텐츠를 담을 영역을 넓히고자 할 때는 `.column-body-outset`을 사용한다.\n\n````verbatim\n:::{.column-body-outset}\n![](fig/horst-eco-r4ds.png)\n:::\n````\n\n:::{.column-body-outset}\n![](fig/horst-eco-r4ds.png)\n:::\n\n## 전체 페이지\n\n`.column-page`를 사용하게 되면 전체 페이지 칼럼을 사용하여 콘텐츠를 담는 공간을 넓힐 수 있다.\n\n````verbatim\n:::{.column-page}\n![](fig/horst-eco-r4ds.png)\n:::\n````\n\n:::{.column-page}\n![](fig/horst-eco-r4ds.png)\n:::\n\n\n## 표 사례\n\n이미지 뿐만 아니라 R 혹은 파이썬 실행결과 산출되는 그래프와 표도 레이아웃을 확장하여 구현할 수 있다. \n\n````verbatim\n::: {.cell .column-page}\n\n```{.r .cell-code}\nknitr::kable(\n  mtcars[1:6, 1:10]\n)\n```\n\n::: {.cell-output-display}\n|                  |  mpg| cyl| disp|  hp| drat|    wt|  qsec| vs| am| gear|\n|:-----------------|----:|---:|----:|---:|----:|-----:|-----:|--:|--:|----:|\n|Mazda RX4         | 21.0|   6|  160| 110| 3.90| 2.620| 16.46|  0|  1|    4|\n|Mazda RX4 Wag     | 21.0|   6|  160| 110| 3.90| 2.875| 17.02|  0|  1|    4|\n|Datsun 710        | 22.8|   4|  108|  93| 3.85| 2.320| 18.61|  1|  1|    4|\n|Hornet 4 Drive    | 21.4|   6|  258| 110| 3.08| 3.215| 19.44|  1|  0|    3|\n|Hornet Sportabout | 18.7|   8|  360| 175| 3.15| 3.440| 17.02|  0|  0|    3|\n|Valiant           | 18.1|   6|  225| 105| 2.76| 3.460| 20.22|  1|  0|    3|\n:::\n:::\n````\n\n\n\n::: {.cell .column-page}\n::: {.cell-output-display}\n|                  |  mpg| cyl| disp|  hp| drat|    wt|  qsec| vs| am| gear|\n|:-----------------|----:|---:|----:|---:|----:|-----:|-----:|--:|--:|----:|\n|Mazda RX4         | 21.0|   6|  160| 110| 3.90| 2.620| 16.46|  0|  1|    4|\n|Mazda RX4 Wag     | 21.0|   6|  160| 110| 3.90| 2.875| 17.02|  0|  1|    4|\n|Datsun 710        | 22.8|   4|  108|  93| 3.85| 2.320| 18.61|  1|  1|    4|\n|Hornet 4 Drive    | 21.4|   6|  258| 110| 3.08| 3.215| 19.44|  1|  0|    3|\n|Hornet Sportabout | 18.7|   8|  360| 175| 3.15| 3.440| 17.02|  0|  0|    3|\n|Valiant           | 18.1|   6|  225| 105| 2.76| 3.460| 20.22|  1|  0|    3|\n:::\n:::\n\n\n\n## 화면 칼럼\n\n`.column-screen` 을 사용하게 되면 모니터 화면을 가득 채울 수 있다.\n\n````verbatim\n::: {.column-screen}\n![](fig/horst-eco-r4ds.png)\n:::\n````\n\n::: {.column-screen}\n![](fig/horst-eco-r4ds.png)\n:::\n\n\n\n마찬가지로 R 혹은 파이썬 코드에 대해서 동일한 결과를 얻을 수 있다.\n\n````verbatim\n::: {.cell .column-screen}\n\n```{.r .cell-code}\nlibrary(leaflet)\nleaflet() %>%\n  addTiles() %>%  # Add default OpenStreetMap map tiles\n  addMarkers(lng=174.768, lat=-36.852, popup=\"The birthplace of R\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-e05d8769f4bf4c9ab49a\" style=\"width:100%;height:464px;\" class=\"leaflet html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e05d8769f4bf4c9ab49a\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org\\\">OpenStreetMap<\\/a> contributors, <a href=\\\"https://creativecommons.org/licenses/by-sa/2.0/\\\">CC-BY-SA<\\/a>\"}]},{\"method\":\"addMarkers\",\"args\":[-36.852,174.768,null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},\"The birthplace of R\",null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[-36.852,-36.852],\"lng\":[174.768,174.768]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n````\n\n\n::: {.cell .column-screen}\n\n```{.r .cell-code}\nlibrary(leaflet)\nleaflet() %>%\n  addTiles() %>%  # Add default OpenStreetMap map tiles\n  addMarkers(lng=174.768, lat=-36.852, popup=\"R 출생지\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-8146952b27cba8dd35b1\" style=\"width:100%;height:464px;\" class=\"leaflet html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-8146952b27cba8dd35b1\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org\\\">OpenStreetMap<\\/a> contributors, <a href=\\\"https://creativecommons.org/licenses/by-sa/2.0/\\\">CC-BY-SA<\\/a>\"}]},{\"method\":\"addMarkers\",\"args\":[-36.852,174.768,null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},\"R 출생지\",null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[-36.852,-36.852],\"lng\":[174.768,174.768]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## 화면 인셋\n\n화면 인세(inset)을 사용하여 전체 모니터 화면 전체로 그래프 3개를 넣을 수 있다.\n\n\n````verbatim\n::: {.cell .column-screen-inset-shaded layout-nrow=\"1\"}\n\n```{.r .cell-code}\nplot(cars)\n```\n\n::: {.cell-output-display}\n![](quarto_layout_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(iris)\n```\n\n::: {.cell-output-display}\n![](quarto_layout_files/figure-html/unnamed-chunk-10-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(pressure)\n```\n\n::: {.cell-output-display}\n![](quarto_layout_files/figure-html/unnamed-chunk-10-3.png){width=672}\n:::\n:::\n````\n\n\n::: {.cell .column-screen-inset-shaded layout-nrow=\"1\"}\n\n```{.r .cell-code}\nplot(cars)\n```\n\n::: {.cell-output-display}\n![](quarto_layout_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(iris)\n```\n\n::: {.cell-output-display}\n![](quarto_layout_files/figure-html/unnamed-chunk-12-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(pressure)\n```\n\n::: {.cell-output-display}\n![](quarto_layout_files/figure-html/unnamed-chunk-12-3.png){width=672}\n:::\n:::\n\n\n# 여백 콘텐츠\n\n## 여백 이미지\n\n출판에서 유용한 기능 중 하나가 여백에 중요 정보를 기술하는 것이다.\n`.column-margin` 클래스를 사용하여 해당 기능을 구현한다.\n\n````verbatim\n::: {.column-margin}\n![](fig/horst-eco-r4ds.png)\n:::\n````\n\n::: {.column-margin}\n![](fig/horst-eco-r4ds.png)\n:::\n\n## 여백 그래프\n\n여백에 ggplot 그래프 객체를 위치시킬 수도 있다.\n\n````verbatim\n::: {.cell .column-margin}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nmtcars2 <- mtcars\nmtcars2$am <- factor(\n  mtcars$am, labels = c('automatic', 'manual')\n)\nggplot(mtcars2, aes(hp, mpg, color = am)) +\n  geom_point() +  geom_smooth(formula = y ~ x, method = \"loess\") +\n  theme(legend.position = 'bottom')\n```\n\n::: {.cell-output-display}\n![MPG vs horsepower, colored by transmission.](quarto_layout_files/figure-html/fig-mtcars-margin-1.png){#fig-mtcars-margin width=672}\n:::\n:::\n````\n\n\n::: {.cell .column-margin}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nmtcars2 <- mtcars\nmtcars2$am <- factor(\n  mtcars$am, labels = c('automatic', 'manual')\n)\nggplot(mtcars2, aes(hp, mpg, color = am)) +\n  geom_point() +  geom_smooth(formula = y ~ x, method = \"loess\") +\n  theme(legend.position = 'bottom')\n```\n\n::: {.cell-output-display}\n![MPG vs horsepower, colored by transmission.](quarto_layout_files/figure-html/fig-mtcars-mpg-1.png){#fig-mtcars-mpg width=672}\n:::\n:::\n\n\n## 여백 표\n\n마찬가지로 여백에 표를 위치시킬 수도 있다.\n\n````verbatim\n::: {.cell .column-margin}\n\n```{.r .cell-code}\nknitr::kable(\n  mtcars[1:6, 1:3]\n)\n```\n\n::: {.cell-output-display}\n|                  |  mpg| cyl| disp|\n|:-----------------|----:|---:|----:|\n|Mazda RX4         | 21.0|   6|  160|\n|Mazda RX4 Wag     | 21.0|   6|  160|\n|Datsun 710        | 22.8|   4|  108|\n|Hornet 4 Drive    | 21.4|   6|  258|\n|Hornet Sportabout | 18.7|   8|  360|\n|Valiant           | 18.1|   6|  225|\n:::\n:::\n````\n\n\n::: {.cell .column-margin}\n\n```{.r .cell-code}\nknitr::kable(\n  mtcars[1:6, 1:3]\n)\n```\n\n::: {.cell-output-display}\n|                  |  mpg| cyl| disp|\n|:-----------------|----:|---:|----:|\n|Mazda RX4         | 21.0|   6|  160|\n|Mazda RX4 Wag     | 21.0|   6|  160|\n|Datsun 710        | 22.8|   4|  108|\n|Hornet 4 Drive    | 21.4|   6|  258|\n|Hornet Sportabout | 18.7|   8|  360|\n|Valiant           | 18.1|   6|  225|\n:::\n:::\n\n\n## 수식 등 \n\n`.column-margin` 클래스에 수식을 비롯한 기타 콘텐츠도 반영시킬 수 있다.\n\n\n````verbatim\n\n::: {.column-margin}\n $[a, b]$ 구간 $x$에 대한 **미적분학의 첫 번째 기본 정리(first fundamental theorem of calculus)** 는 다음과 같다.\n\n\n$$\\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x).$$\n\n\n:::\n\n````\n\n\n::: {.column-margin}\n\n $[a, b]$ 구간 $x$에 대한 **미적분학의 첫 번째 기본 정리(first fundamental theorem of calculus)** 는 다음과 같다.\n\n\n$$\\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x).$$\n\n\n:::\n\n\n# 페이지 나누기\n\n$\\LaTeX$의 `\\newpage`와 같은 기능을 `{{< pagebreak >}}`으로 구현할 수 있다.\n\n````verbatim\npage 1\n\n{{< pagebreak >}}\n\npage 2\n````\n\n\n# 각주 미주등 참조 \n\n각주, 미주를 비롯하여 참고문헌 등 다양한 참조를 여백에 바로 표시할 경우 다음과 같이 작성하면 된다. 이와 같이 작성하면 참고문헌 등 관련 정보를 문서 마지막에 위치하는 대신 여백에 바로 표시된다.\n\n````verbatim\n---\nreference-location: margin\ncitation-location: margin\n---\n````\n\n\n---\nreference-location: margin\ncitation-location: margin\n---\n\n\n팔머펭귄 데이터셋은 붓꽃 데이터를 대체하기 위해 몇년에 걸쳐 안정화를 이룬 위대한 데이터셋[@palmer-penguins]이다. 한국에도 도입이 시급하다.\n\n````verbatim\n[This is a span that has the class aside which places it in the margin without a footnote number.]{.aside}\n```\n\n`[...]{.aside}`와 같이 텍스트를 넣게 되면 여백에 해당 콘텐츠를 옮길 수가 있다.\n\n[This is a span that has the class aside which places it in the margin without a footnote number.]{.aside}\n\n# 그래프 여백 캡션\n\nR 그래프를 제작한 후에 캡션을 보통 그래프 하단에 붙이게 되나 그래프에 대한 설명을 여백 캡션으로 두고자 하는 경우 `cap-location: margin` 을 R 코드 덩어리 내부에 지정하면 된다.\n\n\n````verbatim\n::: {.cell .caption-margin}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nmtcars2 <- mtcars\nmtcars2$am <- factor(\n  mtcars$am, labels = c('automatic', 'manual')\n)\nggplot(mtcars2, aes(hp, mpg, color = am)) +\n  geom_point() +  geom_smooth(formula = y ~ x, method = \"loess\") +\n  theme(legend.position = 'bottom')\n```\n\n::: {.cell-output-display}\n![MPG vs horsepower, colored by transmission.](quarto_layout_files/figure-html/fig-cap-margin-1.png){#fig-cap-margin width=672}\n:::\n:::\n````\n\n\n::: {.cell .caption-margin}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nmtcars2 <- mtcars\nmtcars2$am <- factor(\n  mtcars$am, labels = c('automatic', 'manual')\n)\nggplot(mtcars2, aes(hp, mpg, color = am)) +\n  geom_point() +  geom_smooth(formula = y ~ x, method = \"loess\") +\n  theme(legend.position = 'bottom')\n```\n\n::: {.cell-output-display}\n![MPG vs horsepower, colored by transmission.](quarto_layout_files/figure-html/fig-cap-margin-log-1.png){#fig-cap-margin-log width=672}\n:::\n:::\n\n\n\n# 콘텐츠 위치 지정\n\nbody, page, screen, outset, inset, right, left 를 달리하여 콘텐츠 레이아웃을 자유자재로 위치시킬 수 있다. \n\n- `.column-body-outset-right`\n- `.column-page-inset-right`\n- `.column-page-right`\n- `.column-screen-inset-right`\n- `.column-screen-right`\n- `.column-body-outset-left`\n- `.column-page-inset-left`\n- `.column-page-left`\n- `.column-screen-inset-left`\n- `.column-screen-left`\n\n`.screen-inset-right`를 해당 콘텐츠에 지정할 경우 우측 전체 영역에 콘텐츠를 넣을 수 있다.\n\n````verbatim\n:::{.screen-inset-right}\n![](fig/horst-eco-r4ds.png)\n:::\n````\n\n:::{.screen-inset-right}\n![](fig/horst-eco-r4ds.png)\n:::\n\n",
    "supporting": [
      "quarto_layout_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/jquery-1.12.4/jquery.min.js\"></script>\n<link href=\"site_libs/leaflet-1.3.1/leaflet.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/leaflet-1.3.1/leaflet.js\"></script>\n<link href=\"site_libs/leafletfix-1.0.0/leafletfix.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/proj4-2.6.2/proj4.min.js\"></script>\n<script src=\"site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js\"></script>\n<link href=\"site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/leaflet-binding-2.1.1/leaflet.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}