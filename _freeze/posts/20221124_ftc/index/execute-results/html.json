{
  "hash": "8cfccd33a43cd5404429a185392e1f76",
  "result": {
    "markdown": "---\ntitle: \"대기업 본사 지도\"\ndate: \"2022-11-24\" # 날짜 설정: now, last-modified\ndate-format: \"YYYY년 MM월 DD일\"\nlang: kr\ncategories: [\"지도\", \"대기업\", \"공정거래위원회\", \"로고\"]\ndescription: |\n  공정거래위원회에서 지정한 상위 대기업 본사 주소를 기준으로 서울시 지도에 로고를 입혀 시각화 합니다.\nexecute: \n  message: false\n  warning: false\neditor_options: \n  chunk_output_type: console\nauthor:\n  - name: 이광춘\n    url: https://www.linkedin.com/in/kwangchunlee/\n    affiliation: 한국 R 사용자회\n    affiliation-url: https://github.com/bit2r\ntitle-block-banner: true\n#title-block-banner: \"#562457\"\nformat:\n  html:\n    theme: flatly\n    code-fold: false\n    toc: true\n    toc-depth: 2\n    toc-title: 목차\n    number-sections: true\n    highlight-style: github    \n    self-contained: true\nlink-citations: yes\nfilters:\n   - lightbox      \nlightbox: auto\n---\n\n\n\n# 데이터\n\n대기업 주소를 지도에 로고를 입혀 시각화하기 위해 필요한 데이터는 다음과 같다.\n\n1. 공정거래위원회 지정 최신 공시대상기업집단: [공정위 뉴스 2022년 대기업집단 지정결과](https://www.ftc.go.kr/www/selectReportUserView.do?key=10&rpttype=1&report_data_no=9580) [자료출처: www.ftc.go.kr]{.aside}\n1. \n\n## 대기업 집단 순위\n\n공정위 2022년 기준 공시대상 대기업집단 지정결과를 확인할 수 있다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readxl)\n\nrank_raw <- read_excel(glue::glue(\"{here::here()}/data/220428(조간) 2022년도 대기업집단 지정결과_별첨1.xlsx\"), sheet = \"22년\", skip = 4)\n\nrank_tbl <- rank_raw %>% \n  set_names(c(\"순위_22\", \"순위_21\", \"변동\", \"기업명\", \"동일인\", \"계열사_22\", \"계열사_21\", \"자산_22\", \"자산_21\")) %>% \n  filter(변동 !=\"제외\") %>% \n  select(기업명, 동일인, 계열사수=계열사_22, 자산총액 = 자산_22) %>% \n  mutate(계열사수 = parse_number(계열사수),\n         자산총액 = parse_number(자산총액)/1000) %>% \n  filter(!is.na(기업명))\n\nrank_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 76 × 4\n   기업명     동일인             계열사수 자산총액\n   <chr>      <chr>                 <dbl>    <dbl>\n 1 삼성       이재용                   60    484. \n 2 에스케이   최태원                  186    292. \n 3 현대자동차 정의선                   57    258. \n 4 엘지       구광모                   73    168. \n 5 롯데       신동빈                   85    122. \n 6 포스코     포스코홀딩스(주)         38     96.3\n 7 한화       김승연                   91     80.4\n 8 지에스     허창수                   93     76.8\n 9 현대중공업 정몽준                   36     75.3\n10 농협       농업협동조합중앙회       53     67.0\n# … with 66 more rows\n```\n:::\n:::\n\n\n## 본사 주소\n\nfnguide 에서 [기업주소록](https://comp.fnguide.com/SVO2/ASP/SVD_CorpList.asp?pGB=1&gicode=A005930&cID=&MenuYn=Y&ReportGB=&NewMenuID=502&stkGb=)에서 엑셀파일로 가-하, A-Z, 0-9 기업본사주소가 담긴 정보를 다운로드 받아 후처리한다.\n\n- `.xls` 파일을 `.xlsx` 파일 변환 \n- 자세한 사항 [How To Convert Multiple Xls Files To Xlsx Files In Excel?](https://www.extendoffice.com/documents/excel/1349-excel-batch-convert-xls-to-xlsx.html#a2) 참조하여 VBA 스크립트로 처리한다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncompany_list <- fs::dir_ls(glue::glue(\"{here::here()}/data/company_xlsx\"))\n\ncompany_raw <- map_df(company_list, read_excel)\n\ncompany_raw %>% tail\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 6\n  종목명       시장   홈페이지           본사주소                 대표…¹  IR담당\n  <chr>        <chr>  <chr>              <chr>                    <chr>   <chr> \n1 진양화학     코스피 www.chinyang.co.kr 울산시 남구 장생포로 93… 052-27… 052-2…\n2 진에어       코스피 www.jinair.com     서울시 강서구 공항대로 … 1600-6… <NA>  \n3 진원생명과학 코스피 www.genels.com     서울특별시 영등포구 여…  02-345… 02-34…\n4 진코스텍     코넥스 www.jincostech.com 경기도 시흥시 군자천로2… 031)43… 031-5…\n5 진흥기업     코스피 www.chinhung.co.kr 인천시 연수구 컨벤시아…  032-43… 032-4…\n6 질경이       코넥스 www.hudc.co.kr     서울특별시 서초구 반포…  070)89… 02-58…\n# … with abbreviated variable name ¹​대표전화\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}